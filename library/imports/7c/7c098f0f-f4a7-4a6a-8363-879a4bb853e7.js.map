{"version":3,"sources":["assets\\Scripts\\playGround.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAA2C;AAC3C,2DAAsD;AAEtD,mDAA8C;AAC9C,+CAAgD;AAChD,8CAAyC;AACzC,mCAA8B;AAC9B,qCAAgC;AAE1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAwC,8BAAY;IAApD;QAAA,qEAmVC;QAjVsB,YAAM,GAAY,IAAI,CAAC;QACvB,aAAO,GAAY,IAAI,CAAC;QACxB,qBAAe,GAAY,IAAI,CAAC;QAChC,gBAAU,GAAY,IAAI,CAAC;QAC3B,gBAAU,GAAY,IAAI,CAAC;QAC1B,cAAQ,GAAa,IAAI,CAAC;QAC3B,QAAE,GAAY,IAAI,CAAC;QACZ,cAAQ,GAAqB,EAAE,CAAC;QACvC,sBAAgB,GAAY,IAAI,CAAC;QACjC,kBAAY,GAAY,IAAI,CAAC;QAC5B,iBAAW,GAAa,IAAI,CAAC;QAC7B,gBAAU,GAAa,IAAI,CAAC;QAEzC,iBAAW,GAAW,CAAC,CAAC;QACvB,oBAAc,GAAY,IAAI,CAAC;QAC/B,cAAQ,GAAY,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QAClG,qBAAe,GAAY,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QACvG,gBAAU,GAAY,KAAK,CAAC;QAC7B,kBAAY,GAAY,KAAK,CAAC;QAC7B,WAAK,GAAW,CAAC,CAAC;QACnB,iBAAW,GAAgB,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC;QAC7C,qBAAe,GAAgB,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC;QACjD,aAAO,GAAY,KAAK,CAAC;QACxB,iBAAW,GAAY,KAAK,CAAC;QAC7B,kBAAY,GAAW,CAAC,CAAC;QACzB,iBAAW,GAAW,CAAC,CAAC;QACxB,yBAAmB,GAAY,KAAK,CAAC;QACrC,iBAAW,GAAgB,IAAI,CAAC;QAChC,gBAAU,GAAa,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QACpD,mBAAa,GAAmB,IAAI,CAAC;QACrC,qBAAe,GAAmB,IAAI,CAAC;QACvC,wBAAkB,GAAqB,IAAI,CAAC;QAE3C,eAAS,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IAgT1C,CAAC;IA9SG,2BAAM,GAAN;QAAA,iBAsBC;QArBG,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,UAAC,KAAK;YACvD,IAAI,qBAAW,CAAC,QAAQ,CAAC,gBAAgB,IAAI,KAAI,CAAC,WAAW,IAAI,CAAC,EAAE;gBAChE,IAAI,KAAK,CAAC,OAAO,IAAI,EAAE,EAAE;oBACrB,KAAI,CAAC,eAAe,EAAE,CAAC;iBAC1B;aACJ;QACL,CAAC,CAAC,CAAA;QAEF,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;YAChC,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SACjC;QAED,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;YACrC,IAAI,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SACzC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IAC9F,CAAC;IAED,0BAAK,GAAL;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;QAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;YACzB,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;QAED,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW;YAC3E,IAAI,CAAC,eAAe,CAAC;IAC7B,CAAC;IAED,oCAAe,GAAf;QAAA,iBAWC;QAVG,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACjE,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;YACnC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE;gBAC/B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;aACpC,CAAC,CAAC,IAAI,CAAC;gBACJ,KAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACrC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACX,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,iCAAY,GAAZ,UAAa,SAAgD;QAA7D,iBAgJC;QAhJY,0BAAA,EAAA,YAAqB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC;QACzD,SAAS,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW;YACrE,IAAI,CAAC,eAAe,CAAC;QAEzB,IAAM,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;QACrD,IAAI,SAAS,EAAE;YACX,IAAI,EAAE,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,UAAU,EAAE;gBAC5C,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB;SACJ;QAED,IAAM,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAEpD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC3B,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,MAAM,GAAG,YAAY,CAAC,cAAc,EAAE;gBACtC,UAAU,GAAG,CAAC,CAAC;gBACf,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,GAAG,EAAE;oBAC7D,UAAU,GAAG,CAAC,CAAC;iBAClB;qBAAM,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,EAAE;oBAClE,UAAU,GAAG,CAAC,CAAC;iBAClB;aACJ;iBAAM,IAAI,MAAM,GAAG,YAAY,CAAC,cAAc,GAAG,YAAY,CAAC,cAAc,EAAE;gBAC3E,UAAU,GAAG,CAAC,CAAC;gBACf,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,GAAG,EAAE;oBAC7D,UAAU,GAAG,CAAC,CAAC;iBAClB;aACJ;iBAAM;gBACH,UAAU,GAAG,CAAC,CAAC;aAClB;YAED,QAAQ,UAAU,EAAE;gBAChB,KAAK,CAAC;oBACF,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,mBAAmB,EAAE;wBAClD,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;qBACxC;oBACD,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;wBAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;qBAC5B;yBAAM,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,GAAG,EAAE;wBACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBAC3B;oBAED,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBAC9F,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAEtD,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC7E,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBAC7E,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBACvF,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;oBACvF,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;oBACvH,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBACvH,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;oBACjI,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;oBAEjI,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,EAAE;wBACrB,IAAI,YAAY,GAAG,SAAS,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;wBAC3F,SAAS,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;wBACvD,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW;4BAC5C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC;wBACxF,YAAY,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;qBACjD;yBAAM;wBACH,SAAS,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;qBAC3D;oBACD,MAAM;gBACV,KAAK,CAAC;oBACF,IAAI,OAAK,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBAClC,IAAI,OAAK,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBAClC,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAK,EAAE,OAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;oBAC1G,CAAC,EAAE,EAAE,CAAC,CAAA;oBACN,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAK,EAAE,OAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;oBACzG,CAAC,EAAE,GAAG,CAAC,CAAA;oBACP,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACpC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;oBAE1D,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBACnD,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBACnD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC7D,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC7D,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC7F,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC7F,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBACvG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBACvG,MAAM;gBACV,KAAK,CAAC;oBACF,IAAI,WAAS,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACtC,IAAI,WAAS,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACtC,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;oBAClH,CAAC,EAAE,EAAE,CAAC,CAAC;oBACP,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;oBACjH,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;oBAC1H,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;oBACzH,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;oBACtH,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,UAAU,CAAC;wBACP,KAAI,CAAC,iBAAiB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,WAAS,EAAE,WAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;oBACrH,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACpC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;oBAE1D,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBACnD,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBACnD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC7D,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC7D,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC7F,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC7F,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBACvG,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;oBACvG,MAAM;aACb;SACJ;aAAM;YACH,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YAClF,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACrC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YAC7E,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7E,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YACnF,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YACnF,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YACvH,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YACvH,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;YAC7H,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;SAChI;QACD,SAAS,CAAC,MAAM,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC;QACrC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC;QACxC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAEhC,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,gBAAgB,CAAC;QACpE,IAAI,eAAe,EAAE;YACjB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACnE,SAAS,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,OAAO,GAAG,UAAU,CAAC;SACvD;aAAM;YACH,SAAS,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;SACjD;IACL,CAAC;IAED,kCAAa,GAAb,UAAc,CAAC,EAAE,CAAC;QACd,IAAI,UAAU,GAAG,IAAI,CAAC;QACtB,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;YAC7B,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;SACvC;aAAM;YACH,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC7C;QACD,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAC1C,UAAU,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAClE,UAAU,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACrE,UAAU,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAElE,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,sCAAiB,GAAjB,UAAkB,CAAC,EAAE,CAAC,EAAE,WAAiD;QAAjD,4BAAA,EAAA,eAA0B,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;QACrE,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;YACjC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,CAAC;SACvC;aAAM;YACH,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACxC;QACD,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACb,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACb,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC;aACrD,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC;QACxC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC;QACrC,MAAM,CAAC,IAAI,GAAG,aAAa,CAAC;QAC5B,MAAM,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;QAE/B,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC;QACtF,IAAI,eAAe,EAAE;YACjB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YAC/C,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,OAAO,GAAG,UAAU,CAAC;SACpD;aAAM;YACH,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;SAC9C;QAED,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACzD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACzD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACzD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QAEzD,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACnG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACnG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACnG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QAEnG,MAAM,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACzD,CAAC;IAED,sCAAiB,GAAjB,UAAkB,EAAE;QAApB,iBAwBC;QAvBG,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,kBAAQ,CAAC,OAAO,CAAC,kBAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;YAC3D,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;gBACjC,qBAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBACzD,KAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,KAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;gBACzB,KAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YACjC,CAAC,CAAC,CAAA;SACL;QAED,IAAI,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACjC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5I,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAChC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE;YAC3B,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC;YACxB,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,GAAG,CAAC;YAC/B,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,GAAG,CAAC;SACjC;IACL,CAAC;IAED,qCAAgB,GAAhB;QACI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;QAChC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QACnF,IAAI,CAAC,UAAU,CAAC,MAAM,GAAM,oBAAU,CAAC,MAAM,UAAI,IAAI,CAAC,WAAW,GAAG,CAAC,UAAI,oBAAU,CAAC,IAAM,CAAC;QAC3F,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,oBAAU,CAAC,QAAQ,CAAC;IAClD,CAAC;IAED,gDAA2B,GAA3B,UAA4B,iBAAyB;QACjD,IAAI,CAAC,iBAAiB;YAAE,OAAO;QAC/B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,oBAAU,CAAC,UAAU,CAAC;IACpD,CAAC;IAED,kCAAa,GAAb;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC9B,CAAC;IAED,gCAAW,GAAX,UAAY,QAAoB;QAApB,yBAAA,EAAA,YAAoB;QAC5B,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC7C,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QACnF,qBAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;IACpE,CAAC;IAhVkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CAAwB;IACvB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CAAyB;IACxB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uDAAiC;IAChC;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDAA4B;IAC3B;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDAA4B;IAC1B;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDAA2B;IAC3B;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CAAoB;IACZ;QAAzB,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;gDAAiC;IACvC;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wDAAkC;IACjC;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDAA8B;IAC5B;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDAA8B;IAC7B;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDAA6B;IAb/B,UAAU;QAD9B,OAAO;OACa,UAAU,CAmV9B;IAAD,iBAAC;CAnVD,AAmVC,CAnVuC,EAAE,CAAC,SAAS,GAmVnD;kBAnVoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import GameDefine from \"./game/GameDefine\";\r\nimport PeerManager from \"./PeerComponent/PeerManager\";\r\nimport StageGameEnd from \"./stage/StageGameEnd\";\r\nimport StageInGame from \"./stage/StageInGame\";\r\nimport * as levelDesign from '../levelDesign.js'\r\nimport SoundMgr from \"./common/SoundMgr\";\r\nimport Cuboid from \"./cuboid\";\r\nimport Diamond from \"./diamond\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class playGround extends cc.Component {\r\n\r\n    @property(cc.Node) cuboid: cc.Node = null;\r\n    @property(cc.Node) diamond: cc.Node = null;\r\n    @property(cc.Node) cuboidContainer: cc.Node = null;\r\n    @property(cc.Node) cuboidBase: cc.Node = null;\r\n    @property(cc.Node) playerBall: cc.Node = null;\r\n    @property(cc.Label) lblScore: cc.Label = null;\r\n    @property(cc.Node) bg: cc.Node = null;\r\n    @property(cc.SpriteFrame) dragonSP: cc.SpriteFrame[] = [];\r\n    @property(cc.Node) diamondContainer: cc.Node = null;\r\n    @property(cc.Node) endGamePopup: cc.Node = null;\r\n    @property(cc.Label) bannerLabel: cc.Label = null;\r\n    @property(cc.Label) popupLabel: cc.Label = null;\r\n\r\n    public playerIndex: number = 0;\r\n    private previousCuboid: cc.Node = null;\r\n    private distance: cc.Vec2 = cc.v2(100 * Math.cos(45 * Math.PI / 180), 100 * Math.cos(45 * Math.PI / 180));\r\n    private initialDistance: cc.Vec2 = cc.v2(100 * Math.cos(45 * Math.PI / 180), 0 * Math.cos(45 * Math.PI / 180));\r\n    private isMoveLeft: boolean = false;\r\n    public isPlayerDead: boolean = false;\r\n    private score: number = 0;\r\n    public diamondPool: cc.NodePool = new cc.NodePool();\r\n    public extraCuboidPool: cc.NodePool = new cc.NodePool();\r\n    public isReady: boolean = false;\r\n    private isSpawnLeft: boolean = false;\r\n    private currentLevel: number = 0;\r\n    private cubiodCount: number = 0;\r\n    private isChangingDirection: boolean = false;\r\n    private dragonSpine: sp.Skeleton = null;\r\n    private dragonSkin: string[] = [\"Char3\", \"Char2\", \"Char1\"];\r\n    public bgSpriteFrame: cc.SpriteFrame = null;\r\n    public roadSpriteFrame: cc.SpriteFrame = null;\r\n    public objectsSpriteFrame: cc.SpriteFrame[] = null;\r\n\r\n    private playerPos = new cc.Vec2(0, 0);\r\n\r\n    onLoad() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, (event) => {\r\n            if (PeerManager.Instance.isPlayWithRemote && this.playerIndex == 0) {\r\n                if (event.keyCode == 13) {\r\n                    this.changeDirection();\r\n                }\r\n            }\r\n        })\r\n\r\n        let initCount = 10;\r\n        for (let i = 0; i < initCount; ++i) {\r\n            let diamond = cc.instantiate(this.diamond);\r\n            this.diamondPool.put(diamond);\r\n        }\r\n\r\n        let initExtraCount = 30;\r\n        for (let i = 0; i < initExtraCount; ++i) {\r\n            let extraCuboid = cc.instantiate(this.cuboid);\r\n            this.extraCuboidPool.put(extraCuboid);\r\n        }\r\n\r\n        this.dragonSpine = this.playerBall.getChildByName(\"playerChar\").getComponent(sp.Skeleton);\r\n    }\r\n\r\n    start() {\r\n        this.playerBall.zIndex = 999;\r\n        this.cuboidBase.zIndex = 0;\r\n\r\n        for (let i = 0; i < 15; i++) {\r\n            this.createCuboid();\r\n        }\r\n\r\n        this.dragonSpine.setSkin(this.dragonSkin[this.playerIndex]);\r\n\r\n        this.bg.getComponent(cc.Sprite).spriteFrame = this.bgSpriteFrame;\r\n        this.cuboidBase.getChildByName(\"frontFace\").getComponent(cc.Sprite).spriteFrame =\r\n            this.roadSpriteFrame;\r\n    }\r\n\r\n    changeDirection() {\r\n        if (!this.isPlayerDead && this.isReady && !this.isChangingDirection) {\r\n            this.isMoveLeft = !this.isMoveLeft;\r\n            this.isChangingDirection = true;\r\n            cc.tween(this.playerBall).to(0.15, {\r\n                angle: this.isMoveLeft ? 45 : -45,\r\n            }).call(() => {\r\n                this.isChangingDirection = false;\r\n            }).start();\r\n            this.scoreUpdate();\r\n        }\r\n    }\r\n\r\n    createCuboid(newCuboid: cc.Node = cc.instantiate(this.cuboid)) {\r\n        newCuboid.getChildByName(\"frontFace\").getComponent(cc.Sprite).spriteFrame =\r\n            this.roadSpriteFrame;\r\n\r\n        const nextLevel = levelDesign[this.currentLevel + 1];\r\n        if (nextLevel) {\r\n            if (++this.cubiodCount >= nextLevel.startIndex) {\r\n                this.currentLevel++;\r\n            }\r\n        }\r\n\r\n        const currentLevel = levelDesign[this.currentLevel];\r\n\r\n        if (this.previousCuboid) {\r\n            let random = Math.random();\r\n            let splitValue = 0;\r\n            if (random < currentLevel.doubleWay2Rate) {\r\n                splitValue = 2;\r\n                if (this.previousCuboid.x < -105 || this.previousCuboid.x > 105) {\r\n                    splitValue = 0;\r\n                } else if (this.previousCuboid.x < -70 || this.previousCuboid.x > 70) {\r\n                    splitValue = 1;\r\n                }\r\n            } else if (random < currentLevel.doubleWay2Rate + currentLevel.doubleWay1Rate) {\r\n                splitValue = 1;\r\n                if (this.previousCuboid.x < -105 || this.previousCuboid.x > 105) {\r\n                    splitValue = 0;\r\n                }\r\n            } else {\r\n                splitValue = 0;\r\n            }\r\n\r\n            switch (splitValue) {\r\n                case 0:\r\n                    if (Math.random() < currentLevel.directionChangeRate) {\r\n                        this.isSpawnLeft = !this.isSpawnLeft;\r\n                    }\r\n                    if (this.previousCuboid.x < -140) {\r\n                        this.isSpawnLeft = false;\r\n                    } else if (this.previousCuboid.x > 140) {\r\n                        this.isSpawnLeft = true;\r\n                    }\r\n\r\n                    newCuboid.x = (this.isSpawnLeft ? -this.distance.x : this.distance.x) + this.previousCuboid.x;\r\n                    newCuboid.y = this.previousCuboid.y + this.distance.y;\r\n\r\n                    newCuboid.getChildByName(\"fence-1\").active = this.isSpawnLeft ? false : true;\r\n                    newCuboid.getChildByName(\"fence-2\").active = this.isSpawnLeft ? true : false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").active = this.isSpawnLeft ? true : false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").active = this.isSpawnLeft ? false : true;\r\n                    newCuboid.getChildByName(\"fence-1\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? false : true;\r\n                    newCuboid.getChildByName(\"fence-2\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? true : false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? true : false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? false : true;\r\n\r\n                    if (Math.random() < 0.5) {\r\n                        let objectSprite = newCuboid.getChildByName(\"objectRandom\").getChildByName(\"objectSprite\");\r\n                        newCuboid.getChildByName(\"objectRandom\").active = true;\r\n                        objectSprite.getComponent(cc.Sprite).spriteFrame =\r\n                            this.objectsSpriteFrame[Math.floor(Math.random() * this.objectsSpriteFrame.length)];\r\n                        objectSprite.x = newCuboid.x > 0 ? -400 : 400;\r\n                    } else {\r\n                        newCuboid.getChildByName(\"objectRandom\").active = false;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    let prevX = this.previousCuboid.x;\r\n                    let prevY = this.previousCuboid.y;\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(-this.distance.x + prevX, prevY + this.distance.y, [false, true, false, true]);\r\n                    }, 50)\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(this.distance.x + prevX, prevY + this.distance.y, [true, false, true, false]);\r\n                    }, 100)\r\n                    newCuboid.x = this.previousCuboid.x;\r\n                    newCuboid.y = this.previousCuboid.y + this.distance.y * 2;\r\n\r\n                    newCuboid.getChildByName(\"fence-1\").active = false;\r\n                    newCuboid.getChildByName(\"fence-2\").active = false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").active = false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").active = false;\r\n                    newCuboid.getChildByName(\"fence-1\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    newCuboid.getChildByName(\"fence-2\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    break;\r\n                case 2:\r\n                    let previousX = this.previousCuboid.x;\r\n                    let previousY = this.previousCuboid.y;\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(-this.distance.x + previousX, previousY + this.distance.y, [false, true, true, false]);\r\n                    }, 50);\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(this.distance.x + previousX, previousY + this.distance.y, [true, false, false, true]);\r\n                    }, 100);\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(-this.distance.x * 2 + previousX, previousY + this.distance.y * 2, [false, true, false, true]);\r\n                    }, 150);\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(this.distance.x * 2 + previousX, previousY + this.distance.y * 2, [true, false, true, false]);\r\n                    }, 200);\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(-this.distance.x + previousX, previousY + this.distance.y * 3, [true, false, false, true]);\r\n                    }, 250);\r\n                    setTimeout(() => {\r\n                        this.createExtraCuboid(this.distance.x + previousX, previousY + this.distance.y * 3, [false, true, true, false]);\r\n                    }, 300);\r\n                    newCuboid.x = this.previousCuboid.x;\r\n                    newCuboid.y = this.previousCuboid.y + this.distance.y * 4;\r\n\r\n                    newCuboid.getChildByName(\"fence-1\").active = false;\r\n                    newCuboid.getChildByName(\"fence-2\").active = false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").active = false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").active = false;\r\n                    newCuboid.getChildByName(\"fence-1\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    newCuboid.getChildByName(\"fence-2\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    this.previousCuboid.getChildByName(\"fence-3\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    this.previousCuboid.getChildByName(\"fence-4\").children[0].getComponent(cc.BoxCollider).enabled = false;\r\n                    break;\r\n            }\r\n        } else {\r\n            this.isSpawnLeft = false;\r\n            newCuboid.x = this.isSpawnLeft ? -this.initialDistance.x : this.initialDistance.x;\r\n            newCuboid.y = this.initialDistance.y;\r\n            newCuboid.getChildByName(\"fence-1\").active = this.isSpawnLeft ? false : true;\r\n            newCuboid.getChildByName(\"fence-2\").active = this.isSpawnLeft ? true : false;\r\n            this.cuboidBase.getChildByName(\"fence-7\").active = this.isSpawnLeft ? true : false;\r\n            this.cuboidBase.getChildByName(\"fence-8\").active = this.isSpawnLeft ? false : true;\r\n            newCuboid.getChildByName(\"fence-1\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? false : true;\r\n            newCuboid.getChildByName(\"fence-2\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? true : false;\r\n            this.cuboidBase.getChildByName(\"fence-7\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? true : false;\r\n            this.cuboidBase.getChildByName(\"fence-8\").children[0].getComponent(cc.BoxCollider).enabled = this.isSpawnLeft ? false : true;\r\n        }\r\n        newCuboid.zIndex = -newCuboid.y / 70;\r\n        newCuboid.parent = this.cuboidContainer;\r\n        this.previousCuboid = newCuboid;\r\n\r\n        let isDiamondActive = Math.random() < currentLevel.diamondSpawnRate;\r\n        if (isDiamondActive) {\r\n            let newDiamond = this.createDiamond(newCuboid.x, newCuboid.y + 85);\r\n            newCuboid.getComponent(Cuboid).diamond = newDiamond;\r\n        } else {\r\n            newCuboid.getComponent(Cuboid).diamond = null;\r\n        }\r\n    }\r\n\r\n    createDiamond(x, y) {\r\n        let newDiamond = null;\r\n        if (this.diamondPool.size() > 0) {\r\n            newDiamond = this.diamondPool.get();\r\n        } else {\r\n            newDiamond = cc.instantiate(this.diamond);\r\n        }\r\n        newDiamond.x = x;\r\n        newDiamond.y = y;\r\n        newDiamond.parent = this.diamondContainer;\r\n        newDiamond.getComponent(Diamond).diamondSprite.node.active = true;\r\n        newDiamond.getComponent(Diamond).diamondParticle.node.active = false;\r\n        newDiamond.getComponent(Diamond).lblScorePlus.node.active = false;\r\n\r\n        return newDiamond;\r\n    }\r\n\r\n    createExtraCuboid(x, y, isActiveArr: boolean[] = [true, true, true, true]) {\r\n        let cuboid = null;\r\n        if (this.extraCuboidPool.size() > 0) {\r\n            cuboid = this.extraCuboidPool.get();\r\n        } else {\r\n            cuboid = cc.instantiate(this.cuboid);\r\n        }\r\n        cuboid.x = x;\r\n        cuboid.y = y;\r\n        cuboid.getChildByName(\"frontFace\").getComponent(cc.Sprite)\r\n            .spriteFrame = this.roadSpriteFrame;\r\n        cuboid.parent = this.cuboidContainer;\r\n        cuboid.name = \"ExtraCuboid\";\r\n        cuboid.zIndex = -cuboid.y / 70;\r\n\r\n        let isDiamondActive = Math.random() < levelDesign[this.currentLevel].diamondSpawnRate;\r\n        if (isDiamondActive) {\r\n            let newDiamond = this.createDiamond(x, y + 85);\r\n            cuboid.getComponent(Cuboid).diamond = newDiamond;\r\n        } else {\r\n            cuboid.getComponent(Cuboid).diamond = null;\r\n        }\r\n\r\n        cuboid.getChildByName(\"fence-1\").active = isActiveArr[0];\r\n        cuboid.getChildByName(\"fence-2\").active = isActiveArr[1];\r\n        cuboid.getChildByName(\"fence-3\").active = isActiveArr[2];\r\n        cuboid.getChildByName(\"fence-4\").active = isActiveArr[3];\r\n\r\n        cuboid.getChildByName(\"fence-1\").children[0].getComponent(cc.BoxCollider).enabled = isActiveArr[0];\r\n        cuboid.getChildByName(\"fence-2\").children[0].getComponent(cc.BoxCollider).enabled = isActiveArr[1];\r\n        cuboid.getChildByName(\"fence-3\").children[0].getComponent(cc.BoxCollider).enabled = isActiveArr[2];\r\n        cuboid.getChildByName(\"fence-4\").children[0].getComponent(cc.BoxCollider).enabled = isActiveArr[3];\r\n\r\n        cuboid.getChildByName(\"objectRandom\").active = false;\r\n    }\r\n\r\n    ballMoveScheduler(dt) {\r\n        if (this.isPlayerDead) {\r\n            SoundMgr.playSfx(SoundMgr.Instance.SFX_EXPLODE);\r\n            this.unschedule(this.ballMoveScheduler);\r\n            this.dragonSpine.timeScale = 1;\r\n            this.dragonSpine.setAnimation(0, \"Crash_Animation\", false);\r\n            this.dragonSpine.setCompleteListener(() => {\r\n                StageInGame.Instance.setGameOver(this.playerIndex, true);\r\n                this.showPopupEndGame();\r\n                this.diamondPool.clear();\r\n                this.extraCuboidPool.clear();\r\n            })\r\n        }\r\n\r\n        let vec = new cc.Vec2(0, 0);\r\n        cc.Vec2.lerp(vec, this.playerBall.getPosition(), this.playerBall.getPosition().clone().add(new cc.Vec2((this.isMoveLeft ? -1 : 1) * dt * this.distance.x * 2.5, dt * this.distance.y * 2.5)), 1);\r\n        this.playerBall.setPosition(vec);\r\n        cc.Vec2.lerp(vec, this.bg.parent.getPosition(), this.bg.parent.getPosition().clone().add(new cc.Vec2(0, -(dt * this.distance.y * 2.5))), 1);\r\n        this.bg.parent.setPosition(vec);\r\n        if (this.bg.parent.y <= -1080) {\r\n            this.bg.parent.y += 720;\r\n            this.diamondContainer.y -= 720;\r\n            this.cuboidContainer.y -= 720;\r\n        }\r\n    }\r\n\r\n    showPopupEndGame() {\r\n        this.endGamePopup.active = true;\r\n        cc.tween(this.endGamePopup).to(0.3, { scale: 1 }, { easing: 'bounceOut' }).start();\r\n        this.popupLabel.string = `${GameDefine.player} ${this.playerIndex + 1} ${GameDefine.died}`;\r\n        this.bannerLabel.string = GameDefine.gameover;\r\n    }\r\n\r\n    showMessagePlayerDisconnect(disconnectMessage: string) {\r\n        if (!disconnectMessage) return;\r\n        this.popupLabel.string = disconnectMessage;\r\n        this.bannerLabel.string = GameDefine.disconnect;\r\n    }\r\n\r\n    startMoveBall() {\r\n        this.schedule(this.ballMoveScheduler);\r\n        this.isReady = true;\r\n        this.isPlayerDead = false;\r\n    }\r\n\r\n    scoreUpdate(scoreAdd: number = 1) {\r\n        this.score += scoreAdd;\r\n        this.lblScore.string = this.score.toString();\r\n        cc.tween(this.lblScore.node).to(0.1, { scale: 1.2 }).to(0.1, { scale: 1 }).start();\r\n        StageInGame.Instance.playerScore[this.playerIndex] = this.score;\r\n    }\r\n}\r\n"]}