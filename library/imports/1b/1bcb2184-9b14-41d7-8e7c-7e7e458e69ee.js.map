{"version":3,"sources":["assets\\Scripts\\cuboid.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import playGround from \"./playGround\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Cuboid extends cc.Component {\r\n    @property(cc.Node)\r\n    private player: cc.Node = null;\r\n\r\n    public diamond: cc.Node = null;\r\n\r\n    private thresHold = 9999;\r\n    private thresHoldActive = 9999;\r\n\r\n    onLoad() {\r\n        this.schedule(() => {\r\n            const y = this.player.position.y - this.node.position.y;\r\n            if (y < 200 && y > -200) {\r\n                if (this.thresHold === 0) return;\r\n                this.thresHold = 0;\r\n                this.node.children.forEach((child) => {\r\n                    if (child.childrenCount === 1) {\r\n                        child.children[0].getComponent(cc.BoxCollider) && (child.children[0].getComponent(cc.BoxCollider).enabled = true);\r\n                    }\r\n                })\r\n                this.getComponent(cc.BoxCollider).enabled = true;\r\n            } else {\r\n                if (this.thresHold === 200) return;\r\n                this.thresHold = 200;\r\n                this.node.children.forEach((child) => {\r\n                    if (child.childrenCount === 1) {\r\n                        child.children[0].getComponent(cc.BoxCollider) && (child.children[0].getComponent(cc.BoxCollider).enabled = false);\r\n                    }\r\n                })\r\n            }\r\n\r\n            if (y < -500) {\r\n                this.getComponent(cc.BoxCollider).enabled = false;\r\n            }\r\n        }, 0.1)\r\n\r\n        this.schedule(() => {\r\n            if (this.player.position.y - this.node.position.y < 720 && this.player.position.y - this.node.position.y > -720) {\r\n                if (this.thresHoldActive === 0) return;\r\n                this.thresHoldActive = 0;\r\n                this.node.children.forEach((child) => {\r\n                    child.getComponent(cc.Sprite) && (child.getComponent(cc.Sprite).enabled = true);\r\n                })\r\n            } else {\r\n                if (this.thresHoldActive === 720) return;\r\n                this.thresHoldActive = 720;\r\n                this.node.children.forEach((child) => {\r\n                    child.getComponent(cc.Sprite) && (child.getComponent(cc.Sprite).enabled = false);\r\n                })\r\n            }\r\n        }, 0.2)\r\n    }\r\n}\r\n"]}