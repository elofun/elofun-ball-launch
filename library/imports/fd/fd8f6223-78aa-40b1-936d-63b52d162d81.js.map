{"version":3,"sources":["assets\\Scripts\\gameplay\\Spawn.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmC,yBAAY;IAA/C;QAAA,qEAmCC;QAlCoB,aAAO,GAAc,EAAE,CAAC;QACxB,YAAM,GAAY,IAAI,CAAC;;IAiC5C,CAAC;IAhCW,0BAAU,GAApB;QACE,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI;YAAE,OAAO;QAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IACS,2BAAW,GAArB;QAAA,iBAIC;QAHC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO;YAC3D,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACL,CAAC;IACS,+BAAe,GAAzB,UAA0B,UAAkB;QAC1C,IAAI,YAAY,GAAY,IAAI,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM;YAC1B,IAAI,MAAM,CAAC,IAAI,IAAI,UAAU,EAAE;gBAC7B,YAAY,GAAG,MAAM,CAAC;aACvB;QACH,CAAC,CAAC,CAAC;QACH,OAAO,YAAY,CAAC;IACtB,CAAC;IACM,0BAAU,GAAjB,UAAkB,QAAiB,EAAE,UAAkB;QACrD,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QAC9C,IAAI,MAAM,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAChC,IAAI,OAAO,GAAY,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC9C,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QACtB,OAAO,CAAC,QAAQ,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1D,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,OAAO,OAAO,CAAC;IACjB,CAAC;IACS,wBAAQ,GAAlB;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAjCkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CAAyB;IACxB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yCAAwB;IAFvB,KAAK;QADzB,OAAO;OACa,KAAK,CAmCzB;IAAD,YAAC;CAnCD,AAmCC,CAnCkC,EAAE,CAAC,SAAS,GAmC9C;kBAnCoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Spawn extends cc.Component {\r\n  @property(cc.Node) prefabs: cc.Node[] = [];\r\n  @property(cc.Node) holder: cc.Node = null;\r\n  protected LoadHolder() {\r\n    if (this.holder != null) return;\r\n    this.holder = this.node.getChildByName(\"Holder\");\r\n    console.log(\"Success load Holder \", this.holder);\r\n  }\r\n  protected LoadPrefabs() {\r\n    this.node.getChildByName(\"Prefabs\").children.forEach((element) => {\r\n      this.prefabs.push(element);\r\n    });\r\n  }\r\n  protected GetPrefabByName(prefabName: string): cc.Node {\r\n    let targetPrefab: cc.Node = null;\r\n    this.prefabs.forEach((prefab) => {\r\n      if (prefab.name == prefabName) {\r\n        targetPrefab = prefab;\r\n      }\r\n    });\r\n    return targetPrefab;\r\n  }\r\n  public SpawnThing(spawnPos: cc.Vec2, prefabName: string): cc.Node {\r\n    let prefab = this.GetPrefabByName(prefabName);\r\n    if (prefab == null) return null;\r\n    let newNode: cc.Node = cc.instantiate(prefab);\r\n    newNode.active = true;\r\n    newNode.position = new cc.Vec3(spawnPos.x, spawnPos.y, 0);\r\n    newNode.parent = this.holder;\r\n    return newNode;\r\n  }\r\n  protected onEnable(): void {\r\n    this.LoadHolder();\r\n    this.LoadPrefabs();\r\n  }\r\n}\r\n"]}