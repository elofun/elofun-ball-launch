{"version":3,"sources":["assets\\Scripts\\gameplay\\GamePlayManager.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,8CAA8C;AAE9C,wDAAmD;AACnD,uCAAkC;AAClC,qDAA6C;AAC7C,iDAA8C;AAExC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6C,mCAAgC;IAA7E;QAAA,qEAyCC;QAxCmC,qBAAe,GAAoB,IAAI,CAAC;QAC/C,cAAQ,GAAa,IAAI,CAAC;QAErD,kDAAkD;QAE3C,kBAAY,GAAW,IAAI,CAAC;QAC5B,YAAM,GAAY,KAAK,CAAC;;IAkCjC,CAAC;IAhCW,kCAAQ,GAAlB;QACE,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAC/C,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QACjD,mDAAmD;QACnD,2CAA2C;QAC3C,2CAA2C;QAC3C,mDAAmD;QACnD,4CAA4C;QAC5C,2CAA2C;IAC7C,CAAC;IACS,+BAAK,GAAf;QACE,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACtB,yBAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB;YACtE,iCAAiC;SAClC;IACH,CAAC;IAED,6BAAG,GAAH;QACE,sBAAsB;QAEtB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI;YAAE,OAAO;QAChC,yBAAY,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;QACtC,yBAAY,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACpC,CAAC;IACD,8BAAI,GAAJ;QACE,uBAAuB;QAEvB,yBAAY,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;QACtC,yBAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAvC0B;QAA1B,QAAQ,CAAC,uBAAe,CAAC;4DAAgD;IACtD;QAAnB,QAAQ,CAAC,kBAAQ,CAAC;qDAAkC;IAFlC,eAAe;QADnC,OAAO;OACa,eAAe,CAyCnC;IAAD,sBAAC;CAzCD,AAyCC,CAzC4C,uBAAa,EAAmB,GAyC5E;kBAzCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n// import Singleton from \"../utils/Singleton\";\r\n\r\nimport SingletonNode from \"../utils/SingletonNode\";\r\nimport FadeWall from \"./FadeWall\";\r\nimport LevelManager from \"./LevelManager.js\";\r\nimport TimeNeedToTouch from \"./TimeNeedTouch\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GamePlayManager extends SingletonNode<GamePlayManager>() {\r\n  @property(TimeNeedToTouch) public timeNeedToTouch: TimeNeedToTouch = null;\r\n  @property(FadeWall) public fadeWall: FadeWall = null;\r\n\r\n  // public static Instance: GamePlayManager = null;\r\n\r\n  public currentLevel: number = null;\r\n  public isLost: boolean = false;\r\n\r\n  protected onEnable(): void {\r\n    cc.director.getPhysicsManager().enabled = true;\r\n    cc.director.getCollisionManager().enabled = true;\r\n    // cc.director.getPhysicsManager().debugDrawFlags =\r\n    //   cc.PhysicsManager.DrawBits.e_aabbBit |\r\n    //   cc.PhysicsManager.DrawBits.e_pairBit |\r\n    //   cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n    //   cc.PhysicsManager.DrawBits.e_jointBit |\r\n    //   cc.PhysicsManager.DrawBits.e_shapeBit;\r\n  }\r\n  protected start(): void {\r\n    if (this.currentLevel == null) {\r\n      this.currentLevel = 0;\r\n      LevelManager.Instance.SetUpLevel(this.currentLevel); // set level to 0\r\n      // this.ballHolder.active = true;\r\n    }\r\n  }\r\n\r\n  Win() {\r\n    // console.log(\"win\");\r\n\r\n    if (this.isLost == true) return;\r\n    LevelManager.Instance.DisableHolder();\r\n    LevelManager.Instance.NextLevel();\r\n  }\r\n  Lose() {\r\n    // console.log(\"lose\");\r\n\r\n    LevelManager.Instance.DisableHolder();\r\n    LevelManager.Instance.SetUpLevel(this.currentLevel);\r\n    this.isLost = false;\r\n  }\r\n}\r\n"]}