{"version":3,"sources":["assets\\Scripts\\gameplay\\Ball\\Trail.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmC,yBAAY;IAA/C;QAAA,qEAoDC;QAlDC,WAAK,GAAa,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;QAEjC,YAAM,GAAY,IAAI,CAAC;QAEvB,WAAK,GAAW,EAAE,CAAC;QAGnB,iBAAW,GAAW,EAAE,CAAC;QAEjB,iBAAW,GAAc,EAAE,CAAC;QAE5B,cAAQ,GAAgB,IAAI,CAAC;;QAsCrC,iBAAiB;IACnB,CAAC;IArCC,qBAAK,GAAL;QACE,yBAAyB;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE3B,yBAAyB;IAC3B,CAAC;IAED,sBAAM,GAAN,UAAO,EAAU;QACf,2CAA2C;QAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;QAEjD,gDAAgD;QAChD,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE;YACjD,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YACzB,wEAAwE;SACzE;QAED,iBAAiB;QACjB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QAEtB,iBAAiB;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;QACvC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;YACrD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAClB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EACzB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC1B,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAEvB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;SACvD;IACH,CAAC;IA/CD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wCACc;IAEjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yCACK;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wCACA;IAGnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IATN,KAAK;QADzB,OAAO;OACa,KAAK,CAoDzB;IAAD,YAAC;CApDD,AAoDC,CApDkC,EAAE,CAAC,SAAS,GAoD9C;kBApDoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Trail extends cc.Component {\r\n  @property(cc.Color)\r\n  color: cc.Color = cc.Color.WHITE;\r\n  @property(cc.Node)\r\n  target: cc.Node = null;\r\n  @property(cc.Float)\r\n  width: number = 10;\r\n\r\n  @property(cc.Float)\r\n  trailLength: number = 40;\r\n\r\n  private trailPoints: cc.Vec2[] = [];\r\n\r\n  private graphics: cc.Graphics = null;\r\n\r\n  start() {\r\n    // Create a graphics node\r\n    this.graphics = this.node.getComponent(cc.Graphics);\r\n    console.log(this.graphics);\r\n\r\n    // this.scheduleUpdate();\r\n  }\r\n\r\n  update(dt: number) {\r\n    // Add current position to the trail points\r\n    this.trailPoints.push(this.target.getPosition());\r\n\r\n    // Remove old points if trail length is exceeded\r\n    while (this.trailPoints.length > this.trailLength) {\r\n      this.trailPoints.shift();\r\n      //   console.log(\"this.trailPoints.shift();\", this.trailPoints.shift());\r\n    }\r\n\r\n    // Clear graphics\r\n    this.graphics.clear();\r\n\r\n    // Draw the trail\r\n    this.graphics.lineWidth = this.width;\r\n    this.graphics.strokeColor = this.color;\r\n    for (let i = this.trailPoints.length - 2; i >= 0; --i) {\r\n      this.graphics.moveTo(this.trailPoints[i].x, this.trailPoints[i].y);\r\n      this.graphics.lineTo(\r\n        this.trailPoints[i + 1].x,\r\n        this.trailPoints[i + 1].y\r\n      );\r\n      this.graphics.stroke();\r\n\r\n      this.graphics.lineWidth = this.graphics.lineWidth - 1;\r\n    }\r\n  }\r\n\r\n  // update (dt) {}\r\n}\r\n"]}